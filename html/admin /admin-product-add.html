<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- css -->
    <link rel="stylesheet" href="/public/css/admin/product-add.css">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- font link -->
    <!-- zen dots -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
    <!-- odibee -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Odibee+Sans&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title>Document</title>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">
    <script src="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/js/multi-select-tag.js"></script>

</head>

<body>
    <header>
        <!-- align-items-center -->
        <nav class="navbar navbar-expand-lg px-5 align-text-center">
            <div class="container-fluid flex-lg-column">
                <a class="navbar-brand d-flex align-items-center" href="/">
                    <img src="/public/img/log.png" alt="Logo" width="40" height="40"
                        class="d-inline-block align-text-top ">
                    <h2 class="text-white ms-4 my-0"><b>PlayTform</b></h2>
                </a>

                <button class="navbar-toggler navbar-light bg-light" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse " id="navbarNavAltMarkup">
                    <div class="navbar-nav ms-auto">
                        <a class="nav-link active" aria-current="page" href="/">DASHBOARD</a>
                        <a class="nav-link" href="#">PRODUCT</a>
                        <a class="nav-link" href="#">COSTAMER</a>
                        <a class="nav-link" href="#">COUPEN</a>
                        <a class="nav-link" href="#">CATEGORY</a>
                        <a class="nav-link" href="#">LOG-OUT</a>



                    </div>
                </div>
            </div>
        </nav>

    </header>


    <div class="container d-flex justify-content-center my-5">
        <form action="/admin-product-add" method="post" class=" bg-transparent text-light col-md-8  "
            enctype="multipart/form-data">
            <h1 class="nav-link my-5 text-center">Add-Product</h1>

            <div>
                <label for="Image" class="form-label"><b>Upload Your Icon</b></label><br>
                <input type="file" id="Image" class="form-control" name="Image" value="" required>
            </div>
            <div>
                <label for="Images" class="form-label"><b>Upload Your Sub-Images</b></label><br>
                <input type="file" id="Images" class="form-control" name="Images" value="" multiple required>
                <output id="output" class="text-light"></output>

            </div>
            <div>
                <label for="instalfile" class="form-label"><b>Upload installation file</b></label><br>
                <input type="file" id="instalfile" class="form-control" name="instalfile" value="">
            </div>
            <div class="">
                <label for="name" class="form-label"><b>Title</b> </label><br>
                <input type="text" name="name" class="form-control" id="name " placeholder="Enter The Title" required
                    value="Gunner">
            </div>
            <div class="has-validation">
                <label for="developer" class="form-label"><b>developer</b> </label><br>
                <input type="text" name="developer" class="form-control  is-invalid" id="developer "
                    placeholder="Enter The Name Of Developer" id="validationCustom03" required value="mujeeb">
            </div>
            <div class="">
                <label for="version" class="form-label"><b>version</b> </label><br>
                <input type="text" name="version" class="form-control" id="version " placeholder="Enter The version"
                    required value="3.2.1">
            </div>
            <div class="">
                <label for="cost" class="form-label"><b>cost</b> </label>
                <div class="input-group ">
                    <!-- <span class="input-group-text" id="">$</span> -->
                    <span class="dollar text-dark float-end input-group-text">&dollar;</span>

                    <input type="number" name="cost" class="form-control" id="cost " placeholder="Enter The cost"
                        required value="445">
                </div>
            </div>
            <div class="">
                <label for="category" class="form-label"><b>category</b> </label><br>

                <div class=" d-md-flex justify-content-evenly ">
                    <div class="form-check form-check-inline  d-flex gap-2">
                        <input class="form-check-input" name="category" type="checkbox" id="inlineCheckbox1" value="ps">
                        <label class="form-check-label" for="inlineCheckbox1">ps</label>
                    </div>
                    <div class="form-check form-check-inline d-flex gap-2">
                        <input class="form-check-input" name="category" type="checkbox" id="inlineCheckbox2" value="pc">
                        <label class="form-check-label" for="inlineCheckbox2">pc</label>
                    </div>
                    <div class="form-check form-check-inline d-flex gap-2">
                        <input class="form-check-input" name="category" type="checkbox" id="inlineCheckbox3" value="vr">
                        <label class="form-check-label" for="inlineCheckbox3">vr </label>
                    </div>

                </div>
            </div>
            <div class="mb-5">
                <label for="genres" class="form-label"><b>Genres</b> </label><br>

                <div class="multi-selector p-0">
                    <div class="select-field input-group bg-light text-center  border solid rounded ">
                        <span class="form-control"> ------select the genres---------</span>
                        <span class="down-arrow text-dark float-end input-group-text">&blacktriangledown;</span>
                    </div>
                    <div class="list bg- shadow m-0">
                        <div class="d-flex flex-column">
                            <% category.forEach(category=>{ %>

                                <div class="input-group m-2">

                                    <input type="checkbox" name="" id="<%=category.title%>" class="col-1"
                                        value=" <%=category.title%>">
                                    <label class="col-11" for="<%=category.title%>">
                                        <%=category.title%>
                                    </label>
                                </div>
                                <%})%>


                        </div>
                    </div>

                </div>
            </div>


            <!-- <script>
                $.ajax({
                    url: '',
                    method: 'patch',
                    data: {

                    },
                    success: (res) => {
                        $('#divID').css()
                    }

                })
            </script> -->
            <div class=" mb-5">
                <label for="genres" class="floatingTextarea2"><b>description</b> </label><br>

                <textarea class="form-control" placeholder="About Your Product" id="floatingTextarea2"
                    style="height: 100px"></textarea>
            </div>
            <% if(locals.err) {%>
                <p class="text-danger  ">
                    <%= locals.err %>
                </p>
                <%}%>

                    <div class=" text-center my-5 d-grid">
                        <button type="submit" class="btn btn-sub btn-lg  text-light ">submit</button>
                    </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <script>
        document.querySelector('.select-field').addEventListener('click', () => {
            document.querySelector('.list').
                classList.toggle('show')

        })
     
        const output = document.getElementById("output")
        const input = document.getElementById("Images")
        const men = document.getElementById("men")
        const image = document.getElementsByClassName("image")
        let imagesArray = [];

        input.addEventListener("change", () => {

         
            const files = input.files
            const value = 0
            for (let i = 0; i < files.length; i++) {
                imagesArray.push(files[i])
            }
            displayImages()
        });
        function displayImages() {
            let images = ""
            imagesArray.forEach((image, index) => {
                images += `<div class="image">
                                  <img src="${URL.createObjectURL(image)}" alt="image">
                                  <span onclick="deleteImage(${index})">&times;</span>
                                </div>`
            })
            output.innerHTML = images

        };
        function deleteImage(index) {
            imagesArray.splice(index, 1)
            displayImages()
        };
    </script>
</body>

</html>